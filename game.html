<!DOCTYPE html>
<html>
	<head>
		<title>
			TomeGadget
		</title>
		<script type="text/javascript">
			var local=0;//keeps track of location
			var score=0;//keeps track of total score
			//checks if player has been to each location
			var checkN=false;
			var checkS=false;
			var checkE=false;
			var checkW=false;
			//button movement for northern movement
			function goNorth(){
				var message;
				//checks if movement to room 1 is possible
				if(local==0){
					local=1;
					//checks if player has been to this room before
					if(checkN==false){
						checkN=true;
						score+=5;
					}
					//sets and displays the message for this room
					message="The whispers are becoming clearer now. There appears to be two voices. One from the East speaking of magics unknown, and one from the West whispering of blasphemous science.";
					dispMsg(message);
					return;
				} else{
					//sets and displays error message for wrong movement
					message="You can't go that way.";
					dispMsg(message);
					return;
				}
			}
			//button movement for southern movement
			function goSouth(){
				var message;
				//checks if movement to room 0 is possible
				if(local==1){
					local=0;
					//checks if player has been to this room before
					if(checkS==false){
						checkS=true;
						score+=5;
					}
					//sets and displays the message for this room
					message="You seem to be back where you started. Best be careful not to get lost in this labyrinth of a place.";
					dispMsg(message);
					return;
				} else{
					//sets and displays error message for wrong movement
					message="You can't go that way.";
					dispMsg(message);
					return;
				}
			}
			//button function for eastern movement
			function goEast(){
				var message;
				//checks if movement to room 3 is possible
				if(local==1){
					local=3;
					//checks if player has been to this room before
					if(checkE==false){
						checkE=true;
						score+=5;
					}
					//sets and displays the message for this room
					message="You have arrived in what appears to be a library of old tomes. One tome catches your eye. It appears so mesmerizing one could just touch it...";
					dispMsg(message);
					return;
				} 
				//checks if movement to room 1 is possible
				if(local==2){
					local=1;
					//sets and displays the message for this room
					message="You seem to be back in the main hall. Best be careful not to get lost in this labyrinth of a place.";
					dispMsg(message);
					return;
				}else{
					//sets and displays error message for wrong movement
					message="You can't go that way.";
					dispMsg(message);
					return;
				}
			}
			//button function for western movement
			function goWest(){
				var message;
				//checks if movement to room 1 is possible
				if(local==3){
					local=1;
					message="You seem to be back in the main hall. Best be careful not to get lost in this labyrinth of a place.";
					dispMsg(message);
					return;
				} 
				//checks if movement to room 2 is possible
				if(local==1){
					local=2;
					//checks if player has been to this room before
					if(checkW==false){
						checkW=true;
						score+=5;
					}
					//sets and displays the message for this room
					message="You arrive in the western room where you find the source of the noise. A mysterious machine sits in the center of the room. its gears turning slowly. what could it do?";
					dispMsg(message);
					return;
				}else{
					//sets and displays error message for wrong movement
					message="You can't go that way.";
					dispMsg(message);
					return;
				}
			}
			//this function displays story messages and the score
			function dispMsg(msg){
				//displays story
				var target=document.getElementById("OutputTxtBox");
				target.value=msg+"\n"+target.value;
				//displays score
				document.getElementById("OutputScore").value=score;
			}
		</script>
	</head>
	<body>
		<input type="button"
				value="North"
				onclick="goNorth();" />
		<input type="button"
				value="South"
				onclick="goSouth();" />
		<input type="button"
				value="East"
				onclick="goEast();" />
		<input type="button"
				value="West"
				onclick="goWest();" />
		<a href="mailto:njburd@verizon.net?Subject=Email%20For%20Help" target="_top">
				Help Email
		</a>
		<br>
		<textarea id="OutputTxtBox" rows="6" cols="32">You wake up to find yourself in a dimly lit room with only a wrench and a moldy old book in your bag. You hear something in the next room.</textarea>
		Score:
		<textarea id="OutputScore" rows="1" cols="5"></textarea>
	</body>
</html>